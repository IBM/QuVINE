
data_path: /dccstor/boseukb/Q/NetMed/Aug21/GWAS_NetworkPropagation/processed_data

graph:
  name: ProteomeHD
  path: ${data_path}/networks/${graph.name}/edges_list_ncbi.csv
  
#walker: rwr

disease: 
  name: autism

# ------------------------------------------------------------
# Project / runtime
# ------------------------------------------------------------
runtime:
  name: qune
  run_name: ${now:%Y-%m-%d_%H-%M-%S}
  run_dir: ProteomeHD
  output_dir: /dccstor/boseukb/Q/NetMed/qnetbio/outputs/${runtime.run_dir}/${runtime.run_name}
  n_jobs: 16
  chunk_size: 30

hydra:
  run:
    dir: ${runtime.output_dir}
  sweep:
    dir: ${runtime.output_dir}

# ------------------------------------------------------------
# Experiment control
# ------------------------------------------------------------
experiment:
  iterations: 2        # number of stochastic repetitions
  base_seed: 42          # iteration i uses base_seed + i

# ------------------------------------------------------------
# Global seed (used before iteration loop)
# ------------------------------------------------------------
seed: 42

draw:
  graph: True
  verbose: False

# ------------------------------------------------------------
# Handling Embeddings
# ------------------------------------------------------------

save_embeddings: True 
compare_embeddings: True

# ------------------------------------------------------------
# Preprocessing
# ------------------------------------------------------------
preprocess:
  subgraph: 
    enabled: True
    num_nodes: 20
    max_nodes: 400
    max_hops: 4

  sparsify: 
    enabled: true
    retain_ratio: 0.4
    max_degree: 40
    scoring: common_neighbors
    

verbose: True
plots: True
# ------------------------------------------------------------
# Views
# ------------------------------------------------------------

views:
  num_views: 8
  constrained: true
  max_degree: 9
  max_nodes: 80
  max_edges: 350
  degree_norm: True 
  degree_alpha: 0.7
  
# ------------------------------------------------------------
# Walks
# ------------------------------------------------------------

walks: 
  kinds:
  - rwr
  - ctqw
  - dtqw
  num_walks: 10
  walk_length: 8
  restart_prob: 0.35
  steps: 20
  time: 1.2
  coin: grover
  max_iter: 1000

# ------------------------------------------------------------
# Training
# ------------------------------------------------------------

dimension: 64
window: 5
min_count: 1 
workers: 8 

train: 
  embedding_dim: ${dimension}
  window: ${window}
  sg: 1
  negative: 10
  workers: ${workers}
  min_count: ${min_count}
  epochs: 100

# ------------------------------------------------------------
# Baselines
# ------------------------------------------------------------

baselines:
  node2vec:
    enabled: true
    dimensions: ${dimension}
    walk_length: 8
    num_walks: 10
    p: 1
    q: 0.5
    window: ${window}
    min_count: ${min_count}
    workers: ${workers}
    seed: ${seed}

# ------------------------------------------------------------
# Fusion
# ------------------------------------------------------------
fusion: 
  enabled: True 
  method: concatenate
  k: 10
  

# ------------------------------------------------------------
# Analysis
# ------------------------------------------------------------

analysis:
  cca_components: 10 
  knn_k: 5

# ------------------------------------------------------------
# Evaluation
# ------------------------------------------------------------

evaluation: 
  enabled: true
  k_values:
  - 20
  - 40
  - 80
  n_repeats: 20
  deg_tol: 0.1
  centroid: false
  max_seed: true  
  
